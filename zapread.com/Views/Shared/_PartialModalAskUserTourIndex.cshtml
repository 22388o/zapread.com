@*
    This view renders a modal which presents the user with a request to do a tour of the homepage

    This should be rendered if the user does not have the dismiss cookie.
*@

<div class="modal fade" id="modalTourIndex" data-show="true" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="modalTourIndexTitle">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 id="modalTourIndexTitle">ZapRead Tour</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <h3>
                    Welcome!
                </h3>
                <p>
                    ZapRead.com is a social media platform where you can vote with Bitcoin to reward quality content, and bury poor content.  The Bitcoin you spend is passed on to the creators of quality content throughout the website!
                </p>
                <p>
                    If you contribute quality content, you too will earn Bitcoin. Payments are made over the <a href="https://en.wikipedia.org/wiki/Lightning_Network" target="_blank"  data-toggle="tooltip" data-placement="bottom" title="Opens in new window."><i class="fa fa-bolt"></i> Lightning Network</a>.
                </p>
                <p>
                    <b>Would you like a quick tour and explaination of ZapRead.com?</b>
                </p>
            </div>
            <div class="modal-footer">
                <button id="btnTourStart" type="button" class="btn btn-primary">Yes</button>
                <button id="btnTourDismiss" type="button" class="btn btn-secondary" onclick="alert('.');">Don't ask again</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Remind me later</button>
            </div>
        </div>
    </div>
</div>

@Html.Script(
@<script type="text/javascript">
    $(document).ready(function () {
        $('#modalTourIndex').modal('show');
        $('[data-toggle="tooltip"]').tooltip()
        // Instance the tour
        var tour = new Tour({
            name: "index",
            steps: [{
                element: "#goHome",
                title: "Go Home",
                content: "Click here to return to the home page at any time.",
                placement: "top",
                backdrop: true,
                backdropContainer: '#wrapper'
                //onShown: function (tour) {
                //    $('body').addClass('tour-open')
                //},
                //onHidden: function (tour) {
                //    $('body').removeClass('tour-close')
                //}
            },
            {
                element: ".firstPost",
                title: "This is a post.",
                content: "<p>All content on ZapRead.com is submitted as a post.</p>",
                placement: "top",
                backdrop: true,
                backdropContainer: '#wrapper'
            },
            {
                element: "#btnNewPost",
                title: "Submitting new posts.",
                content: "<p>It costs nothing to submit a post.</p><p>All new posts start with a score of 1.  Good quality posts are rewarded, poor quality posts are not.</p>",
                placement: "top",
                backdrop: true,
                backdropContainer: '#wrapper'
            },
            {
                element: ".firstPostVoteUp",
                title: "Vote up ...",
                content: "<p> ... if you think this post is of high quality.</p><p><ul><li>60% goes to the author</li><li>20% goes to the group</li><li>10% goes to all authors</li><li>10% goes to server fees and maintenance</li></ul></p><p>The post score is increased and it becomes more visible.</p>",
                placement: "top",
                backdrop: true,
                backdropContainer: '#wrapper'
            },
            {
                element: ".firstPostVoteDown",
                title: "Vote down ...",
                content: "<p> ... if the post is of poor quality.</p><p><ul><li>80% goes to the group</li><li>10% goes to all authors</li><li>10% goes to server fees and maintenance</li></ul></p><p>The post score is reduced and it becomes less visible.  Think of the money paid as additional compensation to the other good quality posts.</p>",
                placement: "top",
                backdrop: true,
                backdropContainer: '#wrapper'
            },
            {
                element: ".postUserName",
                title: "The author",
                content: "<p>This is the user who authored this post.</p>",
                placement: "top",
                backdrop: true,
                backdropContainer: '#wrapper'
            },
            {
                element: ".firstPostTitle",
                title: "The title",
                content: "<p>Posts usually have a title.</p><p>Clicking on the title takes you into a full-page view of the post.</p>",
                placement: "top",
                backdrop: true,
                backdropContainer: '#wrapper'
            },
            {
                element: "#postGroupName",
                title: "The group",
                content: "<p>This is the group where the post was submitted.</p><p>All posts are a part of a group.</p>",
                placement: "top",
                backdrop: true,
                backdropContainer: '#wrapper'
            },
            {
                element: "#navGroups",
                title: "The groups",
                content: "<p>This link takes to to a listing of all the groups on ZapRead.</p><p>It costs nothing to create a new group.</p>",
                placement: "top",
                backdrop: true,
                backdropContainer: '#wrapper'
            },

            //{
            //    element: "#step3",
            //    title: "Title of my step",
            //    content: "Introduce new users to your product by walking them through it step by step.",
            //    placement: "bottom"
            //},
            {
                element: "#step4",
                title: "Title of my step",
                content: "Introduce new users to your product by walking them through it step by step.",
                placement: "top"
            }
            ]
        });

        // Initialize the tour
        //tour.init();

        $('#btnTourStart').click(function () {
            $('#modalTourIndex').modal('hide');
            tour.restart();

            // Start the tour
            // tour.start();
        })
    });


</script>
)